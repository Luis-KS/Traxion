<aura:component controller="AprobacionDePedidosClass">

    <!-- PARENT ATTRIBUTES -->
    <aura:attribute name="filterObj" type="Object" />
    <aura:attribute name="data" type="List" />
    <aura:attribute name="columns" type="List" />
    <aura:attribute name="selectedTabId" type="String" />

    <!-- SELF ATTRIBUTES -->
    <aura:attribute name="clavesSeleccionadas" type="List" />
    <aura:attribute name="umusSeleccionadas" type="List" />
    <aura:attribute name="estadosSeleccionados" type="List" />
    <aura:attribute name="pedidosSeleccionados" type="List" />
    <aura:attribute name="transportesSeleccionados" type="List" />
    <aura:attribute name="selectedRowInformation" type="Object" /> 
    <aura:attribute name="selectedRowItemsToApprove" type="List" />  
    <aura:attribute name="body" type="Aura.Component[]"/>

    <!-- DEPENDANCIES -->
    <aura:dependency resource="markup://c:FiltrarPedidosMultiSelect" type="COMPONENT" />
    <aura:dependency resource="markup://c:AprobacionDePedidosDetallesOrden" type="COMPONENT" />

    <!--EVENTS-->
    <aura:registerEvent name = "limpiarParametrosDeFiltros" type = "c.limpiarParametrosDeFiltros"/> 

    <!--AURA METHODS-->
    <aura:method name="resultadosDeClaves" action="{!c.obtenerClaves}" access="public">
        <aura:attribute name="picklistDeClavesSeleccionadas" type="List"/> 
    </aura:method>
    <aura:method name="resultadosDeUMUs" action="{!c.obtenerUMUs}" access="public">
        <aura:attribute name="picklistDeUMUsSeleccionadas" type="List"/> 
    </aura:method>
    <aura:method name="resultadosDeEstados" action="{!c.obtenerEstados}" access="public">
        <aura:attribute name="picklistDeEstadosSeleccionados" type="List"/> 
    </aura:method>
    <aura:method name="resultadosDePedidos" action="{!c.obtenerPedidos}" access="public">
        <aura:attribute name="picklistDePedidosSeleccionados" type="List"/> 
    </aura:method>
    <aura:method name="resultadosDeTransportes" action="{!c.obtenerTransportes}" access="public">
        <aura:attribute name="picklistDeTransportesSeleccionados" type="List"/> 
    </aura:method> 

    <!-- MARKUP -->
    <p class="slds-p-horizontal_small"> 
        <div class="slds-size_12-of-12 mc-card-filter slds-p-around_medium" style="display:none" id="divFiltros">
            <lightning:button variant="brand" label="LIMPIAR FILTROS" title="Brand action" onclick="{!c.limpiarFiltros}" />
            <lightning:layout horizontalAlign="space" verticalAlign="stretch" multipleRows="true">
                <lightning:layoutItem class="mc-form" size="12" flexibility="auto"  title="Claves" >
                    <h4 class="slds-p-top_small" style="margin-bottom: 0px;">CLAVES</h4>
                    <c:FiltrarPedidosMultiSelect padreFiltroClaves="{!this}" msname="Filtrar Claves" msoptions="{!v.filterObj.msClaves}" type="clave"/>
                </lightning:layoutItem>
                <lightning:layoutItem class="mc-form" size="12" flexibility="auto" title="Unidad Médica" >
                    <h4 class="slds-p-top_small" style="margin-bottom: 0px;">UNIDAD MEDICA</h4>
                    <c:FiltrarPedidosMultiSelect padreFiltroUnidadMedica="{!this}" msname="Filtrar UMUs" msoptions="{!v.filterObj.msUMUs}" type="umu"/>
                </lightning:layoutItem>
                <lightning:layoutItem class="mc-form" size="12" flexibility="auto" title="Estados" >
                    <h4 class="slds-p-top_small" style="margin-bottom: 0px;">ESTADOS</h4>
                    <c:FiltrarPedidosMultiSelect padreFiltroEstados="{!this}" msname="Filtrar Estados" msoptions="{!v.filterObj.msEstados}" type="estado"/>
                </lightning:layoutItem>
                <lightning:layoutItem class="mc-form" size="12" flexibility="auto" title="Pedidos" >
                    <h4 class="slds-p-top_small" style="margin-bottom: 0px;">PEDIDOS</h4>
                    <c:FiltrarPedidosMultiSelect padreFiltroPedidos="{!this}" msname="Filtrar Pedidos" msoptions="{!v.filterObj.msPedidos}" type="pedido"/>
                </lightning:layoutItem>
                <div class="slds-align_absolute-center" >
                    <lightning:button variant="brand-outline" label="CERRAR" title="Brand action" onclick="{!c.handleAbrirCerrarFiltros}" />
                    <lightning:button variant="brand" label="APLICAR FILTROS" title="Brand action" onclick="{!c.handleAplicarFiltros}" />
                </div>
            </lightning:layout>
        </div>  
        <div class="slds-size_1-of-1 slds-p-bottom_small" style="display:block" id="divBtnMuestraFiltros">
            <lightning:button variant="brand" label="SELECCIONAR Y APLICAR FILTROS DETALLADOS" title="Brand action" onclick="{!c.handleAbrirCerrarFiltros}" />
        </div> 
        <div class="slds-size_1-of-1">
            <lightning:datatable columns="{!v.columns}" data="{!v.data}" keyField="Id"
                                onrowselection="{!c.handleRowSelection}" 
                                onrowaction="{!c.handleClickedRow}"
                                hideCheckboxColumn="true"
                                />  
        </div> 
    </p>  

    <!-- MODAL WITH ORDER LINE ITEM DETAILS -->
    <div class="slds-hide" aura:id="detallesOrden" id="detallesOrden">
        <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium" aria-modal="true" >
            <div class="slds-modal__container">
                <div class="slds-modal__content">
                    <div class="mc-container">

                        <div class="mc-header">
                            <lightning:layout multipleRows="false">
                                <lightning:layoutItem size="7">
                                    <strong>{!v.selectedRowInformation.Tipo_de_Pedido__c} | {!v.selectedRowInformation.Folio_Control__c}</strong> 
                                </lightning:layoutItem>
                                <lightning:layoutItem size="5" class="slds-float_right">
                                    <strong onclick="{!c.killModalDetallesOrden}" class="slds-float_right" style="cursor: pointer;" >Cerrar&nbsp;<i class="fa fa-times" aria-hidden="true"></i></strong>
                                </lightning:layoutItem>
                            </lightning:layout>
                        </div>


                        <c:AprobacionDePedidosDetallesOrden rowData="{!v.selectedRowInformation}" rowItems="{!v.selectedRowItemsToApprove}" selTab="{!v.selectedTabId}"/>

                        <!-- <div class="mc-content">
                            <ui:scrollerWrapper class="maxScroll slds-size_1-of-1"> 
                                <lightning:layout multipleRows="true"> 
                                    <lightning:layoutItem size="12"> 
                                        <lightning:layout multipleRows="false">
                                            <lightning:layoutItem size="6"> 
                                                <div class="slds-p-bottom_small">
                                                    <div style="font-size:large; font-weight: bold;">{!v.selectedRowInformation.Tipo_de_Pedido__c}</div> 
                                                    <div class="slds-text-heading_small">{!v.selectedRowInformation.Folio_Control__c} | {!v.selectedRowInformation.ID_de_Pedido__c} | {!v.selectedRowInformation.UMUName}</div>
                                                    <div>Generado Por: {!v.selectedRowInformation.Contacto__r.Name}</div> 
                                                </div>
                                            </lightning:layoutItem>
                                        </lightning:layout>
                                        

                                        <lightning:accordion allowMultipleSectionsOpen="true" class="slds-border_bottom slds-border_top" activeSectionName="{!v.activeSections}">
                                            <lightning:accordionSection name="A" label="Información General"> 
                                                <lightning:layout multipleRows="true" class="slds-p-bottom_xxx-small">  
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Clave Presupuestal:</strong> 
                                                        <p>{!v.selectedRowInformation.UMU__r.Clave_Presupuestal__c}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Nombre de UMU:</strong> 
                                                        <p>{!v.selectedRowInformation.UMU__r.Name}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Delegación:</strong> 
                                                        <p>{!v.selectedRowInformation.UMU__r.Delegacion__c}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Tipo de Unidad Médica:</strong> 
                                                        <p>{!v.selectedRowInformation.UMU__r.Tipo_UMU__c}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Numero de UMU:</strong> 
                                                        <p>{!v.selectedRowInformation.UMU__r.UMU__c}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Fecha de Solicitud:</strong> 
                                                        <p>{!v.selectedRowInformation.Fecha_de_Creacion__c}</p>
                                                    </lightning:layoutItem>  
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Última Fecha de Validación:</strong> 
                                                        <p>{!v.fechasDeValidacion.ultimaFecha}</p>
                                                    </lightning:layoutItem>  
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small">
                                                        <strong>Próxima Fecha de Validación:</strong> 
                                                        <p>{!v.fechasDeValidacion.proximaFecha}</p>
                                                    </lightning:layoutItem> 
                                                </lightning:layout>  
                                            </lightning:accordionSection>

                                            <lightning:accordionSection name="B" label="Justificación y Documentos">
                                                <lightning:layout multipleRows="true" class="slds-p-bottom_xxx-small"> 
                                                    <lightning:layoutItem size="12" class="slds-p-bottom_xx-small">
                                                        <strong>Número de Oficio: </strong> 050
                                                    </lightning:layoutItem>
                                                    <lightning:layoutItem size="12" class="slds-p-bottom_xx-small">
                                                        {!v.body}
                                                    </lightning:layoutItem>
                                                </lightning:layout>  
                                            </lightning:accordionSection> 

                                            <lightning:accordionSection name="C" label="Control de Claves Solicitadas">
                                                <lightning:layout multipleRows="true" class="slds-p-vertical_xxx-small slds-border_top">
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small slds-p-top_xx-small">
                                                        <strong>Insumos Agregados:</strong> 
                                                        <p>{!v.selectedRowInformation.Total_de_Claves_Pre_Aprobadas__c}</p>
                                                    </lightning:layoutItem> 
                                                    <lightning:layoutItem size="3" class="slds-p-bottom_xx-small slds-p-top_xx-small">
                                                        <strong>Calculo de Piezas:</strong> 
                                                        <p>{!v.selectedRowInformation.Total_de_Claves_Pre_Aprobadas__c}</p>
                                                    </lightning:layoutItem> 
                                                </lightning:layout> 

                                                <lightning:layoutItem size="12" class="slds-p-top_small"> 
                                                    <strong>Búsqueda</strong>
                                                    <lightning:input type="text" name="searchKey" label="Enter" aura:id="searchKey" onchange="{!c.searchKeyChange}" placeholder="Búsqueda por número de clave o nombre de producto" variant="label-hidden"/>

                                                    
                                                    <aura:if isTrue="{!v.tabSelectorStatus.pendiente}">
                                                        <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                            <aura:if isTrue="{!!item.EstadoTemporal}">   
                                                                <aura:if isTrue="{!item.Product__r}">    
                                                                    <lightning:layout multipleRows="true" class="slds-border_top">  
                                                                        <lightning:layoutItem size="12" class="slds-p-vertical_small slds-p-right_small">
                                                                            <lightning:layout verticalAlign="stretch" multipleRows="true">   
                                                                                <lightning:layoutItem size="3" class="slds-p-right_small slds-p-top_small" flexibility="auto">
                                                                                    <strong>{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                                    <p>{!item.Product__r.Name}</p> 
                                                                                    <p class="slds-p-top_small" style="font-size: x-small;">{!item.Product__r.Description__c}</p>
                                                                                </lightning:layoutItem>  

                                                                                <lightning:layoutItem size="7" class="slds-p-right_small" flexibility="auto">
                                                                                    <lightning:layout multipleRows="true" class="slds-p-top_small"> 
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>DPN</strong> 
                                                                                            <p>{!item.L_mite_Mensual_DPN__c}</p> 
                                                                                        </lightning:layoutItem>
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>VALIDADO</strong> 
                                                                                            <p>{!item.Consumido_DPN__c}</p> 
                                                                                        </lightning:layoutItem>
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>CANTIDAD SOLICITADA</strong> 
                                                                                            <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                                        </lightning:layoutItem>
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>PIEZAS SOLICITADAS</strong> 
                                                                                            <p>{!item.Cantidad_de_Piezas__c}</p> 
                                                                                        </lightning:layoutItem>
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>EN TRÁNSITO</strong> 
                                                                                            <p>0</p>
                                                                                        </lightning:layoutItem>
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>EXISTENCIA EN UNIDAD</strong> 
                                                                                            <p>{!item.Existencia_en_UMU__c}</p> 
                                                                                        </lightning:layoutItem> 
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>DISPONIBLE EN CENADI</strong>
                                                                                            <p>{!item.Disponible_en_CENADI__c}</p> 
                                                                                        </lightning:layoutItem> 
                                                                                        <lightning:layoutItem size="3" class="slds-p-bottom_x-small"> 
                                                                                            <strong>DISPONIBLE A SOLICITAR</strong> 
                                                                                            <p>{!item.Dispobible_a_Solicitar__c}</p> 
                                                                                        </lightning:layoutItem> 
                                                                                    </lightning:layout>
                                                                                </lightning:layoutItem> 


                                                                                <lightning:layoutItem size="2" flexibility="auto">  
                                                                                    <aura:if isTrue="{!item.EstadoTemporal}">  
                                                                                        <lightning:layout multipleRows="true" >
                                                                                            <lightning:layoutItem size="12" class="slds-p-vertical_x-small">
                                                                                                <lightning:badge label="{!item.EstadoTemporal.label}" class="{!item.EstadoTemporal.class}" iconName="{!item.EstadoTemporal.icon}"/>
                                                                                            </lightning:layoutItem>
                                                                                            <lightning:layoutItem size="12" class="slds-p-vertical_x-small">
                                                                                                <lightning:button label="Editar" value="{!item}" class="slds-align_absolute-center" title="Neutral action" onclick="{!c.handleEdit}"/>
                                                                                            </lightning:layoutItem>
                                                                                        </lightning:layout> 

                                                                                        <aura:set attribute="else"> 
                                                                                            <lightning:layout multipleRows="true">
                                                                                                <lightning:layoutItem size="12" padding="around-small">
                                                                                                    <lightning:button value="{!item}" class="slds-button succes-button slds-button_stretch" label="Aprobar" title="Success" onclick="{!c.handleAprrove}"/>
                                                                                                </lightning:layoutItem>
                                                                                                <lightning:layoutItem size="12" padding="around-small">
                                                                                                    <lightning:button value="{!item}" class="slds-button slds-button_outline-brand slds-button_stretch" label="Modificar" title="Brand action" onclick="{!c.handleModify}"/>
                                                                                                </lightning:layoutItem>
                                                                                                <lightning:layoutItem size="12" padding="around-small">
                                                                                                    <lightning:button value="{!item}" class="slds-button destructive-button slds-button_stretch" label="Rechazar" title="Destructive action" onclick="{!c.handleReject}"/>
                                                                                                </lightning:layoutItem> 
                                                                                            </lightning:layout> 
                                                                                        </aura:set> 
                                                                                    </aura:if> 
                                                                                </lightning:layoutItem>  
                                                                            </lightning:layout>
                                                                        </lightning:layoutItem> 
                                                                    </lightning:layout> 
                                                                </aura:if>
                                                            </aura:if>
                                                        </aura:iteration>

                                                        <hr style="margin-top: 0px;"/>
                                                        <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                            <aura:if isTrue="{!item.EstadoTemporal}"> 

                                                                <lightning:layout multipleRows="false" class="slds-p-vertical_small slds-border_bottom">

                                                                    <lightning:layoutItem size="3" class="slds-p-right_small">
                                                                        <strong class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Name}</p> 
                                                                        <p class="slds-p-top_small" style="font-size: x-small; color: #858585;">{!item.Product__r.Description__c}</p>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="7" class="slds-p-right_small">
                                                                        <lightning:layout multipleRows="true"> 
                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>
                                                                        </lightning:layout>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="2" class="slds-p-right_small">
                                                                        <lightning:badge label="{!item.EstadoTemporal.label}" class="slds-badge_inverse slds-align_absolute-center" iconName="{!item.EstadoTemporal.icon}"/>
                                                                    </lightning:layoutItem>
                                                                </lightning:layout>
                                                            </aura:if>
                                                        </aura:iteration>
                                                    </aura:if>
                                                    
                                                    <aura:if isTrue="{!v.tabSelectorStatus.aprobado}">
                                                        <hr style="margin-top: 0px;"/>
                                                        <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                            <aura:if isTrue="{!item.EstadoTemporal.value}"> 
                                                                <lightning:layout multipleRows="false" class="slds-p-vertical_small slds-border_bottom">
                                                                    <lightning:layoutItem size="3" class="slds-p-right_small">
                                                                        <strong>{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                        <p>{!item.Product__r.Name}</p> 
                                                                        <p class="slds-p-top_small" style="font-size: x-small;">{!item.Product__r.Description__c}</p>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="7" class="slds-p-right_small">
                                                                        <lightning:layout multipleRows="true"> 
                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>
                                                                        </lightning:layout>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="2" class="slds-p-right_small">
                                                                        <lightning:badge label="{!item.EstadoTemporal.label}" class="{!item.EstadoTemporal.class}" iconName="{!item.EstadoTemporal.icon}"/>
                                                                    </lightning:layoutItem>
                                                                </lightning:layout>
                                                            </aura:if>
                                                        </aura:iteration>
                                                        <aura:if isTrue="{!v.selectedRowItemsToApprove}">
                                                            <div class="slds-m-top_medium">
                                                                <strong>Resto de Claves del Pedido</strong>
                                                                <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                                    <aura:if isTrue="{!!item.EstadoTemporal.value}">
                                                                        <lightning:layout multipleRows="false" class="slds-p-vertical_small slds-border_bottom">
                                                                            <lightning:layoutItem size="3" class="slds-p-right_small">
                                                                                <strong class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Name}</p> 
                                                                                <p class="slds-p-top_small" style="font-size: x-small; color: #858585;">{!item.Product__r.Description__c}</p>
                                                                            </lightning:layoutItem>
        
                                                                            <lightning:layoutItem size="7" class="slds-p-right_small">
                                                                                <lightning:layout multipleRows="true"> 
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
                                                                                </lightning:layout>
                                                                            </lightning:layoutItem>
        
                                                                            <lightning:layoutItem size="2" class="slds-p-right_small">
                                                                                
                                                                                <aura:if isTrue="{!item.EstadoTemporal}">
                                                                                    <lightning:badge label="{!item.EstadoTemporal.label}" class="slds-badge_inverse slds-align_absolute-center" iconName="{!item.EstadoTemporal.icon}"/>
                                                                                    <aura:set attribute="else">
                                                                                        <lightning:badge label="Pendiente" class="slds-badge_inverse slds-align_absolute-center" iconName="utility:clock"/>
                                                                                    </aura:set>
                                                                                </aura:if>
                                                                            </lightning:layoutItem>
                                                                        </lightning:layout>
                                                                    </aura:if>
                                                                </aura:iteration>
                                                            </div>
                                                        </aura:if>
                                                    </aura:if>

                                                    <aura:if isTrue="{!v.tabSelectorStatus.rechazado}">
                                                        <hr style="margin-top: 0px;"/>
                                                        <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                            <aura:if isTrue="{!item.EstadoTemporal.value}"> 

                                                                <lightning:layout multipleRows="false" class="slds-p-vertical_small slds-border_bottom">

                                                                    <lightning:layoutItem size="3" class="slds-p-right_small">
                                                                        <strong>{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                        <p>{!item.Product__r.Name}</p> 
                                                                        <p>{!item.Product__r.Description__c}</p>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="7" class="slds-p-right_small">
                                                                        <lightning:layout multipleRows="true"> 
                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>

                                                                            <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                <strong>CANTIDAD SOLICITADA</strong> 
                                                                                <p>{!item.Cantidad_Solicitada__c}</p> 
                                                                            </lightning:layoutItem>
                                                                        </lightning:layout>
                                                                    </lightning:layoutItem>

                                                                    <lightning:layoutItem size="2" class="slds-p-right_small">
                                                                        <lightning:badge label="{!item.EstadoTemporal.label}" class="{!item.EstadoTemporal.class}" iconName="{!item.EstadoTemporal.icon}"/>
                                                                    </lightning:layoutItem>
                                                                </lightning:layout>
                                                            </aura:if>
                                                        </aura:iteration>

                                                        <aura:if isTrue="{!v.selectedRowItemsToApprove}">
                                                            <div class="slds-m-top_medium">
                                                                <strong>Resto de Claves del Pedido</strong>
                                                                <aura:iteration items="{!v.selectedRowItemsToApprove}" var="item"> 
                                                                    <aura:if isTrue="{!!item.EstadoTemporal.value}">
                                                                        <lightning:layout multipleRows="false" class="slds-p-vertical_small slds-border_bottom">
                                                                            <lightning:layoutItem size="3" class="slds-p-right_small">
                                                                                <strong class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Product_Code_ID__c}</strong> 
                                                                                <p class="slds-text-body_small" style="color: #858585;">{!item.Product__r.Name}</p> 
                                                                                <p class="slds-p-top_small" style="font-size: x-small; color: #858585;">{!item.Product__r.Description__c}</p>
                                                                            </lightning:layoutItem>
        
                                                                            <lightning:layoutItem size="7" class="slds-p-right_small">
                                                                                <lightning:layout multipleRows="true"> 
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
        
                                                                                    <lightning:layoutItem size="3" class="slds-p-right_small"> 
                                                                                        <strong class="slds-text-body_small" style="color: #858585;">CANTIDAD SOLICITADA</strong> 
                                                                                        <p class="slds-text-body_small" style="color: #858585;">{!item.Cantidad_Solicitada__c}</p> 
                                                                                    </lightning:layoutItem>
                                                                                </lightning:layout>
                                                                            </lightning:layoutItem>
        
                                                                            <lightning:layoutItem size="2" class="slds-p-right_small">
                                                                                
                                                                                <aura:if isTrue="{!item.EstadoTemporal}">
                                                                                    <lightning:badge label="{!item.EstadoTemporal.label}" class="slds-badge_inverse slds-align_absolute-center" iconName="{!item.EstadoTemporal.icon}"/>
                                                                                    <aura:set attribute="else">
                                                                                        <lightning:badge label="Pendiente" class="slds-badge_inverse slds-align_absolute-center" iconName="utility:clock"/>
                                                                                    </aura:set>
                                                                                </aura:if>
                                                                            </lightning:layoutItem>
                                                                        </lightning:layout>
                                                                    </aura:if>
                                                                </aura:iteration>
                                                            </div>
                                                        </aura:if>

                                                    </aura:if>
                                                </lightning:layoutItem>
                                            </lightning:accordionSection> 

                                            


                                        </lightning:accordion>
                                    </lightning:layoutItem>
                                </lightning:layout> 
                            </ui:scrollerWrapper> 
                        </div> -->
                    </div>
                </div>
            </div>
        </section>
    </div> 



</aura:component>